local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")

-- Kiá»ƒm tra táº¥t cáº£ cÃ¡c RemoteEvent cÃ³ trong ReplicatedStorage
local replicatedStorage = game:GetService("ReplicatedStorage")
local possibleEvents = replicatedStorage:GetChildren()

print("ğŸ“¢ Äang kiá»ƒm tra sá»± kiá»‡n trong game...")

for _, event in pairs(possibleEvents) do
    if event:IsA("RemoteEvent") then
        print("ğŸ” TÃ¬m tháº¥y sá»± kiá»‡n: " .. event.Name)
    end
end

-- TÃ¬m sá»± kiá»‡n teleport Minigame
local minigameEvent = replicatedStorage:FindFirstChild("EnterMinigame") or replicatedStorage:FindFirstChild("FlowerGardenTeleport")

-- TÃ¬m sá»± kiá»‡n trá»“ng cÃ¢y
local plantEvent = replicatedStorage:FindFirstChild("PlantSeedEvent") or replicatedStorage:FindFirstChild("PlantDiamond")

-- Danh sÃ¡ch Ã´ Ä‘áº¥t trá»“ng cÃ¢y trong Minigame Flower Garden (Báº¡n cáº§n tá»± láº¥y tá»a Ä‘á»™ náº¿u sai)
local farmPlots = {
    Vector3.new(150, 10, 200),  
    Vector3.new(170, 10, 220),  
    Vector3.new(190, 10, 240),  
    Vector3.new(210, 10, 260),  
    Vector3.new(230, 10, 280)  
}

-- Láº¥y tá»a Ä‘á»™ hiá»‡n táº¡i Ä‘á»ƒ debug
print("ğŸ“ Tá»a Ä‘á»™ hiá»‡n táº¡i cá»§a nhÃ¢n váº­t:", humanoidRootPart.Position)

-- Tá»a Ä‘á»™ cá»•ng Minigame Flower Garden (Báº¡n cáº§n Ä‘á»©ng trÆ°á»›c cá»•ng vÃ  cháº¡y `print(humanoidRootPart.Position)` Ä‘á»ƒ láº¥y tá»a Ä‘á»™)
local minigamePortal = Vector3.new(500, 15, 600) -- Chá»‰nh láº¡i náº¿u cáº§n

-- HÃ m teleport Ä‘áº¿n vá»‹ trÃ­ báº¥t ká»³
local function teleportTo(position)
    if humanoidRootPart then
        humanoidRootPart.CFrame = CFrame.new(position)
        wait(1) -- Chá» 1 giÃ¢y Ä‘á»ƒ Ä‘áº£m báº£o nhÃ¢n váº­t Ä‘Ã£ Ä‘á»©ng yÃªn
    end
end

-- HÃ m vÃ o Minigame Flower Garden
local function enterMinigame()
    if minigameEvent then
        minigameEvent:FireServer()
        print("ğŸŒ¸ Äang vÃ o Minigame Flower Garden báº±ng sá»± kiá»‡n...")
    else
        print("âš ï¸ KhÃ´ng tÃ¬m tháº¥y sá»± kiá»‡n vÃ o Minigame, thá»­ dá»‹ch chuyá»ƒn Ä‘áº¿n cá»•ng Minigame...")
        teleportTo(minigamePortal)
    end
end

-- HÃ m trá»“ng cÃ¢y Diamond Seed
local function plantDiamondSeed()
    if plantEvent then
        print("ğŸŒ± Äang sá»­ dá»¥ng sá»± kiá»‡n trá»“ng cÃ¢y: " .. plantEvent.Name)
        plantEvent:FireServer("DiamondSeed") -- Gá»­i yÃªu cáº§u trá»“ng cÃ¢y lÃªn server
    else
        warn("ğŸš¨ KhÃ´ng tÃ¬m tháº¥y sá»± kiá»‡n trá»“ng cÃ¢y! Thá»­ click chuá»™t Ä‘á»ƒ trá»“ng...")
        -- Auto Click náº¿u game khÃ´ng cÃ³ RemoteEvent
        local virtualUser = game:GetService("VirtualUser")
        virtualUser:Button1Down(Vector2.new(0, 0)) -- Giáº£ láº­p click chuá»™t
        wait(0.2)
        virtualUser:Button1Up(Vector2.new(0, 0))
    end
end

-- Báº¯t Ä‘áº§u quÃ¡ trÃ¬nh tá»± Ä‘á»™ng
print("ğŸš€ Äang vÃ o Minigame Flower Garden...")
enterMinigame()
wait(5) -- Chá» 5 giÃ¢y sau khi vÃ o minigame

print("ğŸŒ± Báº¯t Ä‘áº§u trá»“ng Diamond Seed...")

for _, position in pairs(farmPlots) do
    teleportTo(position)
    plantDiamondSeed()
    wait(1)  -- Chá» 1 giÃ¢y trÆ°á»›c khi trá»“ng cÃ¢y á»Ÿ Ã´ tiáº¿p theo
end

print("âœ… ÄÃ£ trá»“ng xong táº¥t cáº£ Diamond Seed trong Minigame!")
