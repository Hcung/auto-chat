local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- 🏁 Toạ độ trước Minigame (Có thể thay đổi nếu cần)
local minigamePosition = Vector3.new(183.913, 22.938, 1995.265)

-- 🚀 Teleport đến trước Minigame
hrp.CFrame = CFrame.new(minigamePosition)
wait(1)

-- 🚶 Đi vào bên trong Minigame
for i = 1, 5 do
    hrp.CFrame = hrp.CFrame * CFrame.new(0, 0, -2) -- Di chuyển về phía trước
    wait(0.5)
end

print("✅ Đã vào Minigame, bắt đầu tìm chậu cây...")

-- 🌱 Tìm tất cả chậu cây trong game
local plantPots = {}
for _, obj in pairs(game.Workspace:GetChildren()) do
    if obj:IsA("Part") and obj.Name == "PlantPot" then
        table.insert(plantPots, obj.Position)
    end
end

if #plantPots == 0 then
    print("❌ Không tìm thấy chậu cây nào!")
    return
end

print("🌿 Đã tìm thấy " .. #plantPots .. " chậu cây. Bắt đầu trồng Diamond...")

for _, potPosition in ipairs(plantPots) do
    -- 🚀 Teleport đến từng chậu cây
    hrp.CFrame = CFrame.new(potPosition + Vector3.new(0, 3, 0))
    wait(0.5)

    -- 🔄 Giả lập nhấp chuột vào chậu cây
    fireclickdetector(workspace:FindFirstChild("PlantPot").ClickDetector)
    wait(0.5)

    -- 🌳 Chọn cây Diamond để trồng
    local args = {
        [1] = "PlantTree",
        [2] = "DiamondTree"
    }
    game.ReplicatedStorage.RemoteEvent:FireServer(unpack(args))

    wait(1)
    print("✅ Đã trồng cây Diamond tại chậu: ", potPosition)
end

print("🎉 Hoàn thành trồng tất cả cây Diamond!")
