local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- Lưu danh sách các cây tìm thấy trong game
local foundPlants = {}

-- Sự kiện khi nhấn chuột
local UIS = game:GetService("UserInputService")

local function getMousePosition()
    local mouse = player:GetMouse()
    return Vector3.new(mouse.Hit.p.X, mouse.Hit.p.Y, mouse.Hit.p.Z)
end

-- Hàm in ra thông tin click chuột
local function onClick()
    local mousePosition = getMousePosition()
    local cam = workspace.CurrentCamera
    local direction = (mousePosition - cam.CFrame.Position).unit
    
    local ray = Ray.new(cam.CFrame.Position, direction * 500)
    
    print("\n🌱 **Tọa độ cây:**", mousePosition)
    print("🎯 **Raycast Click:**", ray)
    
    table.insert(foundPlants, mousePosition)
end

-- Lắng nghe sự kiện chuột trái
UIS.InputBegan:Connect(function(input, gameProcessed)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        onClick()
    end
end)

-- Di chuyển đến cây tiếp theo sau khi nhấn một phím (ví dụ: phím "N")
UIS.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.N then
        if #foundPlants > 0 then
            local nextPlant = table.remove(foundPlants, 1)
            hrp.CFrame = CFrame.new(nextPlant)
            print("🚀 **Di chuyển đến cây:**", nextPlant)
        end
    end
end)
